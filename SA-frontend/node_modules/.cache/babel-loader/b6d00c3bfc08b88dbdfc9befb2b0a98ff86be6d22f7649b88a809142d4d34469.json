{"ast":null,"code":"// src/api/spotify.js\nexport const fetchPlaylists = async accessToken => {\n  const response = await fetch(\"https://api.spotify.com/v1/me/playlists\", {\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch playlists\");\n  }\n  const data = await response.json();\n  return data.items;\n};\nexport const fetchPlaylistTracks = async (token, playlistId) => {\n  const res = await fetch(`https://api.spotify.com/v1/playlists/${playlistId}/tracks`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (!res.ok) {\n    const errorText = await res.text();\n    console.error(\"Spotify API error response:\", errorText);\n    throw new Error(\"Failed to fetch playlist tracks\");\n  }\n  const data = await res.json();\n  return data.items.map(item => {\n    const t = item.track;\n    return {\n      id: t.id,\n      name: t.name,\n      artists: t.artists.map(a => a.name),\n      album: t.album.name,\n      releaseDate: t.album.release_date,\n      popularity: t.popularity,\n      duration_ms: t.duration_ms,\n      explicit: t.explicit,\n      added_at: item.added_at,\n      Genres: t.Genres,\n      Danceability: t.Danceability,\n      Energy: t.Energy,\n      Key: t.Key,\n      Loudness: t.Loudness,\n      Mode: t.Mode,\n      Speechiness: t.Speechiness,\n      Acousticness: t.Acousticness,\n      Instrumentalness: t.Instrumentalness,\n      Liveness: t.Liveness,\n      Valence: t.Valence,\n      Tempo: t.Tempo,\n      TimeSignature: t.TimeSignature\n    };\n  });\n};\nexport const fetchUserProfile = async accessToken => {\n  const res = await fetch(\"https://api.spotify.com/v1/me\", {\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  });\n  if (!res.ok) {\n    throw new Error(\"Failed to fetch user profile\");\n  }\n  return await res.json();\n};","map":{"version":3,"names":["fetchPlaylists","accessToken","response","fetch","headers","Authorization","ok","Error","data","json","items","fetchPlaylistTracks","token","playlistId","res","errorText","text","console","error","map","item","t","track","id","name","artists","a","album","releaseDate","release_date","popularity","duration_ms","explicit","added_at","Genres","Danceability","Energy","Key","Loudness","Mode","Speechiness","Acousticness","Instrumentalness","Liveness","Valence","Tempo","TimeSignature","fetchUserProfile"],"sources":["/Users/dheyhasan/spotify-analyzer/SA-frontend/src/api/spotify.js"],"sourcesContent":["// src/api/spotify.js\nexport const fetchPlaylists = async (accessToken) => {\n  const response = await fetch(\"https://api.spotify.com/v1/me/playlists\", {\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch playlists\");\n  }\n\n  const data = await response.json();\n  return data.items;\n};\nexport const fetchPlaylistTracks = async (token, playlistId) => {\n  const res = await fetch(\n    `https://api.spotify.com/v1/playlists/${playlistId}/tracks`,\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }\n  );\n\n  if (!res.ok) {\n    const errorText = await res.text();\n    console.error(\"Spotify API error response:\", errorText);\n    throw new Error(\"Failed to fetch playlist tracks\");\n  }\n\n  const data = await res.json();\n  return data.items.map((item) => {\n    const t = item.track;\n    return {\n      id: t.id,\n      name: t.name,\n      artists: t.artists.map((a) => a.name),\n      album: t.album.name,\n      releaseDate: t.album.release_date,\n      popularity: t.popularity,\n      duration_ms: t.duration_ms,\n      explicit: t.explicit,\n      added_at: item.added_at,\n      Genres: t.Genres,\n      Danceability: t.Danceability,\n      Energy: t.Energy,\n      Key: t.Key,\n      Loudness: t.Loudness,\n      Mode: t.Mode,\n      Speechiness: t.Speechiness,\n      Acousticness: t.Acousticness,\n      Instrumentalness: t.Instrumentalness,\n      Liveness: t.Liveness,\n      Valence: t.Valence,\n      Tempo: t.Tempo,\n      TimeSignature: t.TimeSignature,\n    };\n  });\n};\n\nexport const fetchUserProfile = async (accessToken) => {\n  const res = await fetch(\"https://api.spotify.com/v1/me\", {\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n\n  if (!res.ok) {\n    throw new Error(\"Failed to fetch user profile\");\n  }\n\n  return await res.json();\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}